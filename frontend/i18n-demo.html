<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多语言测试 - ToDoList</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .demo-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .language-info {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .feature-list {
            margin: 15px 0;
        }
        .feature-list li {
            margin: 5px 0;
        }
        .code-block {
            background: #f8f8f8;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>🌐 ToDoList 三语版本功能说明</h1>
    
    <div class="demo-section">
        <h2>📋 功能概述</h2>
        <p>ToDoList 现在支持三种语言的自动检测和切换：</p>
        <ul class="feature-list">
            <li><strong>简体中文</strong> - 检测到 <code>zh-CN</code>, <code>zh-Hans</code>, <code>zh</code>, <code>cn</code></li>
            <li><strong>繁体中文</strong> - 检测到 <code>zh-TW</code>, <code>zh-HK</code>, <code>zh-MO</code>, <code>zh-Hant</code></li>
            <li><strong>英文</strong> - 其他所有语言默认使用英文</li>
        </ul>
    </div>

    <div class="demo-section">
        <h2>🔍 浏览器语言检测</h2>
        <div class="language-info">
            <p><strong>当前浏览器语言:</strong> <span id="browser-lang"></span></p>
            <p><strong>检测到的应用语言:</strong> <span id="detected-lang"></span></p>
            <p><strong>浏览器支持的语言列表:</strong></p>
            <ul id="lang-list"></ul>
        </div>
    </div>

    <div class="demo-section">
        <h2>🎯 语言检测逻辑</h2>
        <div class="code-block">
function detectBrowserLanguage() {
  const browserLang = navigator.language || navigator.userLanguage
  const langCode = browserLang.toLowerCase()
  
  // 检测简体中文
  if (langCode.includes('zh-cn') || 
      langCode.includes('zh-hans') || 
      langCode === 'zh' || 
      langCode === 'cn') {
    return 'zh-cn'
  }
  
  // 检测繁体中文
  if (langCode.includes('zh-tw') || 
      langCode.includes('zh-hk') || 
      langCode.includes('zh-mo') || 
      langCode.includes('zh-hant')) {
    return 'zh-tw'
  }
  
  // 其他语言默认英文
  return 'en'
}
        </div>
    </div>

    <div class="demo-section">
        <h2>🛠️ 技术实现</h2>
        <ul class="feature-list">
            <li><strong>Vue I18n:</strong> 使用 vue-i18n@9 进行国际化</li>
            <li><strong>自动检测:</strong> 基于 <code>navigator.language</code> 和 <code>navigator.languages</code></li>
            <li><strong>本地存储:</strong> 用户选择的语言会保存在 localStorage</li>
            <li><strong>动态切换:</strong> 语言选择器支持实时切换</li>
            <li><strong>响应式:</strong> 全应用支持语言切换</li>
        </ul>
    </div>

    <div class="demo-section">
        <h2>📱 组件支持</h2>
        <p>以下组件已集成多语言支持：</p>
        <ul class="feature-list">
            <li>✅ <strong>登录页面 (Login.vue)</strong> - 完整的多语言支持</li>
            <li>✅ <strong>语言选择器 (LanguageSelector.vue)</strong> - 新增组件</li>
            <li>✅ <strong>待办列表 (TodoList.vue)</strong> - 部分支持，可继续完善</li>
            <li>🔄 <strong>注册页面 (Register.vue)</strong> - 待更新</li>
            <li>🔄 <strong>个人资料 (Profile.vue)</strong> - 待更新</li>
        </ul>
    </div>

    <div class="demo-section">
        <h2>🚀 Release 计划</h2>
        <p>建议在下一个 release 版本中包含此功能：</p>
        <ol>
            <li><strong>完善组件翻译:</strong> 更新所有剩余的 Vue 组件</li>
            <li><strong>测试验证:</strong> 在不同浏览器和设备上测试语言检测</li>
            <li><strong>文档更新:</strong> 更新用户文档和开发者文档</li>
            <li><strong>性能优化:</strong> 确保语言切换流畅无卡顿</li>
            <li><strong>发布标记:</strong> 创建新的 release tag (如 v0.2.0)</li>
        </ol>
    </div>

    <div class="demo-section">
        <h2>📝 下一步工作</h2>
        <ul class="feature-list">
            <li>更新所有 Vue 组件使用 i18n</li>
            <li>添加 Element Plus 的语言包支持</li>
            <li>测试在不同区域设置下的表现</li>
            <li>添加更多语言支持 (如日文、韩文等)</li>
            <li>优化语言检测算法</li>
            <li>添加语言切换的动画效果</li>
        </ul>
    </div>

    <script>
        // 显示浏览器语言信息
        document.addEventListener('DOMContentLoaded', function() {
            const browserLang = navigator.language || navigator.userLanguage;
            const languages = navigator.languages || [browserLang];
            
            document.getElementById('browser-lang').textContent = browserLang;
            
            // 模拟语言检测逻辑
            function detectLang() {
                const langCode = browserLang.toLowerCase();
                if (langCode.includes('zh-cn') || langCode.includes('zh-hans') || langCode === 'zh' || langCode === 'cn') {
                    return 'zh-cn (简体中文)';
                }
                if (langCode.includes('zh-tw') || langCode.includes('zh-hk') || langCode.includes('zh-mo') || langCode.includes('zh-hant')) {
                    return 'zh-tw (繁體中文)';
                }
                return 'en (English)';
            }
            
            document.getElementById('detected-lang').textContent = detectLang();
            
            const langList = document.getElementById('lang-list');
            languages.forEach(lang => {
                const li = document.createElement('li');
                li.textContent = lang;
                langList.appendChild(li);
            });
        });
    </script>
</body>
</html>